!function(){"use strict";function Event$1(e){if(!e)throw Error('TypeError: Failed to construct "CustomEvent": An event name must be provided.');var t=arguments[1]&&arguments[1].bubbles||!1,n=arguments[1]&&arguments[1].cancelable||!1;if("createEvent"in document){var o=document.createEvent("Event");return o.initEvent(e,t,n),o}var r=document.createEventObject();return r.bubbles=t,r.cancelable=n,r.type=e,r}function CustomEvent(e){if(!e)throw Error('TypeError: Failed to construct "CustomEvent": An event name must be provided.');var t=arguments[1]&&arguments[1].bubbles||!1,n=arguments[1]&&arguments[1].cancelable||!1,o=arguments[1]&&arguments[1].detail||null;if(!("createEvent"in document)){var r=document.createEventObject();return r.bubbles=t,r.cancelable=n,r.detail=o,r.type=e,r}try{var c=document.createEvent("CustomEvent");return c.initCustomEvent(e,t,n,o),c}catch(r){var a=document.createEvent("Event");return a.initEvent(e,t,n),a.detail=o,a}}function indexOf(e,t){for(var n=-1,o=e.length;++n<o;)if(n in e&&e[n]===t)return n;return-1}function addEventListener(e,t){var n=this;n._events||(n._events={}),n._events[e]||!function(){var t=n._events[e]=function(e){e.currentTarget=n,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||n,e.timeStamp=(new Date).getTime(),"clientX"in e&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),e.preventDefault=function(){e.cancelable!==!1&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0};for(var o=t.list.slice(),r=-1,c=void 0;c=!e.cancelImmediate&&o[++r];)indexOf(t.list,c)!==-1&&"function"==typeof c&&c.call(n,e)};t.list=[],n.attachEvent&&n.attachEvent("on"+e,t)}(),n._events[e].list.push(t)}function removeEventListener(e,t){var n=this;if(n._events&&n._events[e]){var o=indexOf(n._events[e].list,t);o!==-1&&(n._events[e].list.splice(o,1),n._events[e].list.length||(n.detachEvent&&n.detachEvent("on"+e,n._events[e]),delete n._events[e]))}}function dispatchEvent(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,n=e.type;try{e.bubbles||!function(){e.cancelBubble=!0;var o=function cancelBubbleEvent(){e.cancelBubble=!0,t.detachEvent("on"+n,cancelBubbleEvent)};t.attachEvent("on"+n,o)}(),t.fireEvent("on"+n,e)}catch(r){var o=e.target=t;do o=e.currentTarget=t,o._events&&"function"==typeof o._events[n]&&o._events[n].call(o,e),"function"==typeof o["on"+n]&&o["on"+n](e),o=9===o.nodeType?o.parentWindow:o.parentNode;while(o&&!e.cancelBubble)}return!0}CustomEvent.prototype=window.Event.prototype;var e=function(){var e=function onreadystatechange(){var e=document.createElement("script");e.src="javascript:void(0)",e.onreadystatechange=function(){"loaded"===e.readyState&&(document.documentElement.removeChild(e),document.dispatchEvent(new Event("DOMContentLoaded")))},document.documentElement.appendChild(e),document.detachEvent("onreadystatechange",onreadystatechange)};document.attachEvent("onreadystatechange",e)};"function"!=typeof window.Event&&(Window.prototype.Event=Event$1,window.Event!==Event$1&&(window.Event=Event$1)),"function"!=typeof window.CustomEvent&&(Window.prototype.CustomEvent=CustomEvent),"function"!=typeof window.dispatchEvent&&(e(),Window.prototype.addEventListener=HTMLDocument.prototype.addEventListener=Element.prototype.addEventListener=addEventListener,Window.prototype.removeEventListener=HTMLDocument.prototype.removeEventListener=Element.prototype.removeEventListener=removeEventListener,Window.prototype.dispatchEvent=HTMLDocument.prototype.dispatchEvent=Element.prototype.dispatchEvent=dispatchEvent)}();
